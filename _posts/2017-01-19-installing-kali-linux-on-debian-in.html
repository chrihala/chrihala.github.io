---
layout: post
title: Installing Kali Linux on Debian in DigitalOcean
date: '2017-01-19T10:49:00.000-08:00'
author: Hland
tags:
- Debian
- DigitalOcean
- Sysadm
- Kali
modified_time: '2019-02-13T08:05:28.784-08:00'
blogger_id: tag:blogger.com,1999:blog-3264165303439231899.post-5306896428983316682
blogger_orig_url: https://blankhat.blogspot.com/2017/01/installing-kali-linux-on-debian-in.html
---

DigitalOcean is a nice and relatively cheap way to run virtual machines in the cloud. As a pentester I like to use Kali Linux which comes with a great number of useful tools. The problem is that DigitalOcean does not have a Kali Linux droplet or a way of installing custom images, at least not to my knowledge. But since Kali Linux is based on Debian let's go ahead and try installing Kali Linux packages on top of the latest Debian image available from DigitalOcean.<br /><br />We start by creating a droplet, I used the Debian 8.7 x64 distribution and if you are gonna run Kali Linux you should probably go with at least size number 2 which has 1gb of RAM at 10$/month.<br /><br />Add an SSH key to the droplet, spin it up and login to the box.<br /><br />Let's find the sources for the Kali Linux packages from here:<br /><a href="http://docs.kali.org/general-use/kali-linux-sources-list-repositories">http://docs.kali.org/general-use/kali-linux-sources-list-repositories</a><br /><br />I wanna use the latest Rolling distribution that gets updates continuously so I'll use:<br /><pre><code>deb http://http.kali.org/kali kali-rolling main contrib non-free</code></pre><br />We add this to the /etc/apt/sources.list file on the system.<br /><pre><code>root@mybox:~# echo "deb http://http.kali.org/kali kali-rolling main contrib non-free" &gt;&gt; /etc/apt/sources.list<br /><br />cat /etc/apt/sources.list<br />...<br /><br /># jessie-updates, previously known as 'volatile'<br />deb http://mirrors.digitalocean.com/debian jessie-updates main<br />deb-src http://mirrors.digitalocean.com/debian jessie-updates main<br />deb http://http.kali.org/kali kali-rolling main contrib non-free<br /></code></pre><br />Next we need to import the GPG key for the sources so that we can verify the packages. I looked up the key from an existing Kali Linux installation:<br /><br /><pre><code>root@aKaliBoxIhad:~# apt-key list --with-fingerprint<br /><snipped>...</snipped><br />/etc/apt/trusted.gpg.d/kali-archive-keyring.gpg<br /><br />-----------------------------------------------<br /><br />pub &nbsp; rsa4096 2012-03-05 [SC] [expires: 2018-02-02]<br /><br />&nbsp; &nbsp; &nbsp; 44C6 513A 8E4F B3D3 0875 &nbsp;F758 ED44 4FF0 7D8D 0BF6<br /><br />uid &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ unknown] Kali Linux Repository &lt;devel@kali.org&gt;<br /><br />sub &nbsp; rsa4096 2012-03-05 [E] [expires: 2018-02-02]<br /><br /></code></pre><div><br /></div><div><br /></div><div>Next we add the key to the keychain by looking it up from keys.gnupg.net. Note: Do not use the short fingerprint!</div><div><br /></div><div><pre><code>root@mybox:~# apt-key adv --keyserver hkp://keys.gnupg.net --recv-keys ED444FF07D8D0BF6<br />Executing: gpg --ignore-time-conflict --no-options --no-default-keyring --homedir /tmp/tmp.T551SpCEIH --no-auto-check-trustdb --trust-model always --primary-keyring /etc/apt/trusted.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-jessie-automatic.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-jessie-security-automatic.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-jessie-stable.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-squeeze-automatic.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-squeeze-stable.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-wheezy-automatic.gpg --keyring /etc/apt/trusted.gpg.d/debian-archive-wheezy-stable.gpg --keyserver hkp://keys.gnupg.net --recv-keys 7D8D0BF6<br />gpg: requesting key 7D8D0BF6 from hkp server keys.gnupg.net<br />gpg: key 7D8D0BF6: public key "Kali Linux Repository <devel kali.org="">" imported<br />gpg: Total number processed: 1<br />gpg:               imported: 1  (RSA: 1)</devel></code></pre></div><div><br /></div><div>Now update the packages and let's look at which Kali Linux packages we can install:</div><div><pre><code>root@mybox:~# apt-get update &amp;&amp; apt-get upgrade</code></pre></div><div><br /></div><div>All the Kali Linux meta packages are listed here:</div><div><a href="https://www.kali.org/news/kali-linux-metapackages/">https://www.kali.org/news/kali-linux-metapackages/</a></div><div><br /></div><div><br /></div><div>So for instance to install the top 10 tools of Kali Linux, we do:</div><div><pre><code>root@mybox:~# apt-get install kali-linux-top10</code></pre></div><div></div><br /><div>Now we will have for among other tools, &nbsp;Metasploit, installed on the server. Let's start it up<br /><br /><pre><code>root@mybox:~# /etc/init.d/postgresql start<br /><br />root@mybox:~# msfdb init<br /><br />root@mybox:~# msfconsole<br /><br /><br />                 _---------.<br />             .' #######   ;."<br />  .---,.    ;@             @@`;   .---,..<br />." @@@@@'.,'@@            @@@@@',.'@@@@ ".<br />'-.@@@@@@@@@@@@@          @@@@@@@@@@@@@ @;<br />   `.@@@@@@@@@@@@        @@@@@@@@@@@@@@ .'<br />     "--'.@@@  -.@        @ ,'-   .'--"<br />          ".@' ; @       @ `.  ;'<br />            |@@@@ @@@     @    .<br />             ' @@@ @@   @@    ,<br />              `.@@@@    @@   .<br />                ',@@     @   ;           _____________<br />                 (   3 C    )     /|___ / Metasploit! \<br />                 ;@'. __*__,."    \|--- \_____________/<br />                  '(.,...."/<br /><br /><br />Validate lots of vulnerabilities to demonstrate exposure<br />with Metasploit Pro -- Learn more on http://rapid7.com/metasploit<br /><br />       =[ metasploit v4.13.14-dev                         ]<br />+ -- --=[ 1613 exploits - 915 auxiliary - 279 post        ]<br />+ -- --=[ 471 payloads - 39 encoders - 9 nops             ]<br />+ -- --=[ Free Metasploit Pro trial: http://r-7.co/trymsp ]<br /><br />msf &gt;<br /></code></pre><br /><br /></div><div>Now we can get hacking :D</div><div><br /></div>